# @package _global_

# to execute this experiment run:
# python train.py experiment=example

defaults:
  - override /hydra/launcher: my_submitit_slurm
  - override /paths: trex
  - override /datamodule: flair
  - override /module: supervised
  - override /module/network: smpunet
  - override /trainer: gpu

# all parameters below will be merged with parameters from default configurations set above
# this allows you to overwrite only specified parameters

seed: 12345

datamodule:
  batch_size: 16
  num_workers: 16
  
module:
  network:
    encoder_name: efficientnet-b0
    encoder_weights: null

paths:
  data_dir: /work/AI4GEO/users/fournip
  output_dir: /work/AI4GEO/users/fournip/outputs/flair2/label_prop/${datamodule.prop}/${now:%Y-%m-%d_%H%M%S}
  
trainer:
  max_time: "00:11:00:00"
  
hydra:
#  launcher:
#    gres: gpu:1
#    gpus_per_task: 1
#    cpus_per_gpu: 16
#    partition: gpu_a100
#    account: ai4geo
#    qos: gpu_all
  sweeper:
    params:
      datamodule.prop: 1,5