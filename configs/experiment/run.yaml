# @package _global_

# to execute this experiment run:
# python train.py experiment=example

defaults:
  - override /paths: trex
  - override /datamodule: resisc/resisc
  - override /module: supervised
  - override /transforms@module.tf: d4_color
  - override /module/network: efficientnet
  - override /module/scheduler: swa
  - override /trainer: cpu
  - override /hydra/launcher: my_submitit_slurm

name: resisc10/run:supervised

# all parameters below will be merged with parameters from default configurations set above
# this allows you to overwrite only specified parameters

seed: 12345
#ckpt: "/data/outputs/resisc/run:supervised/2023-09-10_185348/checkpoints/epoch_349.ckpt"

datamodule:
    sup: 10
    unsup: 0
    num_workers: 6
        
trainer:
  max_time: "00:00:00:40"
  max_epochs: 10
  max_steps: 500000
  limit_train_batches: 1
  limit_val_batches: 1
    
hydra:
  run:
    dir: ${paths.output_dir}/${name}/${now:%Y-%m-%d_%H%M%S}
  sweep:
    dir: ${paths.output_dir}/${name}/${now:%Y-%m-%d_%H%M%S}
  launcher:
    gres: null
    
    
callbacks:
  model_checkpoint:
    dirpath: ${hydra:run.dir}/checkpoints