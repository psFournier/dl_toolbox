# @package _global_

defaults:
  - override /datamodule: rellis/rellis
  - override /module: segmenter
  - override /trainer: gpu

callbacks:
    lora:
        module_name: encoder
    model_checkpoint:
        dirpath: ${hydra:sweep.dir}/${hydra:sweep.subdir}/checkpoints

name: "test_rellis"
            
trainer:
  max_time: "00:11:30:59"
  max_epochs: 5
  limit_train_batches: 1
  limit_val_batches: 1
    
hydra:
  run:
    dir: ${paths.output_dir}/${name}/${now:%Y-%m-%d_%H%M%S}
  sweeper:
    params:
      seed: 1
  sweep:
    dir: ${paths.output_dir}/${name}/${now:%Y-%m-%d_%H%M%S}
    #subdir: ${hydra:sweeper.params.transforms@module.batch_tf}_${seed}  